# 像素画板

这是一个基于 **HTML + CSS + JavaScript** 的在线像素画板工具，主要用于 **游戏引擎的像素素材绘制与导出**。支持逐帧动画、镜像绘制、撤销重做、导入导出等功能，便于快速制作 2D 游戏中的角色、道具和特效图像。

## 1 功能特性

- 🎨 **像素绘制工具**
  - 画笔、填充、直线、矩形、描边矩形
  - 橡皮擦、吸管、颜色变亮/变暗
- 🔁 **镜像绘制模式**griddraw
  - 无、左右镜像、上下镜像、四向镜像、中心对称、主对角线、副对角线
- 🖼️ **帧动画支持**indexmain
  - 新增/复制/删除/清空帧
  - 动画预览（支持 FPS 调整、缩放、往返播放）
- ⌛ **撤销与重做**history
  - 内部历史记录栈，支持多步撤销/重做
- 🎨 **颜色管理**uiconstants
  - 常用色板、系统取色器、手动输入 HEX
  - 支持透明色
- 📤 **导入与导出**iomain
  - 导出为 JSON（像素数据）、PNG（单帧或雪碧图）、GIF（逐帧动画）
  - 导入 JSON 文件继续编辑
- ⚙️ **画布管理**state
  - 自定义画布尺寸（最大 256×256）
  - 修改尺寸会重置所有帧

## 2 快捷键

- `B`：画笔
- `F`：填充
- `L`：直线
- `R`：矩形
- `M`：循环切换镜像模式
- `Ctrl/⌘ + Z`：撤销
- `Ctrl/⌘ + Y / Shift+Z`：重做
- `Alt + 点击`：吸管取色
- `空格 / Enter`：播放/暂停动画预览

## 3 开发说明

- 主体入口：`index.html`
- 样式：`styles.css`
- 核心逻辑模块：
  - `grid.js`：网格与像素管理
  - `draw.js`：绘制逻辑（画笔、镜像、填充等）
  - `history.js`：撤销与重做
  - `io.js`：导入导出（JSON、PNG、GIF）
  - `main.js`：事件绑定、UI 操作、帧管理
  - `state.js`：全局状态管理
  - `ui.js`：提示、状态栏、色板等 UI 功能
  - `constants.js`：常量与工具函数

## 4 导出数据说明

- **JSON**：包含画布尺寸与帧数据（每个像素为 `#RRGGBBAA` 十六进制颜色）
- **PNG**：单帧像素图或多帧雪碧图（1 行多列）
- **GIF**：逐帧动画，支持自定义 FPS